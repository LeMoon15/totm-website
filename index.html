<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>TOTM: Trooper of The Month</title>

<style>
:root{
  --bg:#0c1f3f;
  --card:#132b57;
  --ink:#ffffff;
  --muted:#d7deee;
  --gold:#c6a547;
}

*{box-sizing:border-box}

body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background: linear-gradient(180deg, #0c1f3f 0%, #08152d 100%);
  color:var(--ink);
}

.wrap{max-width:1100px;margin:0 auto;padding:28px 18px 60px}

header{
  display:flex;
  gap:16px;
  align-items:center;
  justify-content:space-between;
  flex-wrap:wrap;
}

.badge{
  width:54px;height:54px;border-radius:14px;
  background: linear-gradient(145deg, rgba(198,165,71,.22), rgba(255,255,255,.06));
  border:1px solid rgba(198,165,71,.55);
  display:grid;place-items:center;
}
.badge span{font-weight:900;color:var(--gold)}

.top-stripe{
  height:10px;
  border-radius:999px;
  background: linear-gradient(90deg, rgba(198,165,71,.15), var(--gold), rgba(198,165,71,.15));
  margin:15px 0 20px;
}

.grid{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:16px;
}
@media(max-width:920px){.grid{grid-template-columns:1fr}}

.card{
  background: rgba(19,43,87,.8);
  border:1px solid rgba(255,255,255,.10);
  border-radius:18px;
  overflow:hidden;
}

.card .hd{padding:14px 16px;border-bottom:1px solid rgba(255,255,255,.10);}
.card .bd{padding:16px}

form{display:grid;gap:12px}
.row{display:grid;gap:10px;grid-template-columns:1fr 1fr}
@media(max-width:520px){.row{grid-template-columns:1fr}}

label{display:grid;gap:6px;font-size:13px;color:var(--muted)}
input, textarea{
  width:100%;
  padding:10px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.15);
  background: rgba(0,0,0,.2);
  color:white;
}
textarea{min-height:110px}

button{
  cursor:pointer;
  padding:10px 14px;
  border-radius:12px;
  border:1px solid rgba(198,165,71,.65);
  background: rgba(198,165,71,.15);
  color:white;
  font-weight:600;
  margin-left:5px;
}

.certificate{
  background:#0a1022;
  border:2px solid var(--gold);
  border-radius:18px;
  padding:22px;
}

.cert-title h2{
  text-align:center;
  font-family:Georgia,serif;
  letter-spacing:2px;
  text-transform:uppercase;
}

.big-name{
  text-align:center;
  font-size:28px;
  font-weight:900;
  font-family:Georgia,serif;
  margin:10px 0;
}

.block{
  background: rgba(255,255,255,.05);
  padding:12px;
  border-radius:12px;
  margin:10px 0;
}

.footer{
  display:flex;
  justify-content:space-between;
  margin-top:15px;
  font-size:13px;
}

@media print{
  body{background:white;color:black}
  .card.form-card, .top-stripe, header{display:none}
  .certificate{background:white;border:2px solid #b08a2e}
}
</style>
</head>

<body>
<div class="wrap">

<header>
  <div style="display:flex;align-items:center;gap:14px">
 <div class="badge">
  <img src="chp-logo.png" alt="California Highway Patrol Logo" style="height:40px;">
</div>
      <h1>TROOPER OF THE MONTH</h1>
    </div>
  </div>
  <div>
    <button onclick="window.print()">Print / Save PDF</button>
    <button onclick="sendEmail()">Submit via Email</button>
  </div>
</header>

<div class="top-stripe"></div>

<div class="grid">

<!-- FORM -->
<section class="card form-card">
<div class="hd"><strong>Award Details</strong></div>
<div class="bd">

<form id="totmForm">

<div class="row">
<label>Month<input name="month"></label>
<label>Year<input name="year"></label>
</div>

<div class="row">
<label>Trooper Name<input name="name"></label>
<label>Rank / Badge #<input name="rankBadge"></label>
</div>

<label>
Reason for Recognition
<textarea name="reason"></textarea>
</label>

<div class="row">
<label>Achievement #1<input name="a1"></label>
<label>Achievement #2<input name="a2"></label>
</div>

<div class="row">
<label>Achievement #3<input name="a3"></label>
<label>Achievement #4<input name="a4"></label>
</div>

<label>
Trooper's Comment
<textarea name="trooperComment"></textarea>
</label>

<div class="row">
<label>Presented By<input name="presentedBy"></label>
<label>Date Presented<input name="datePresented"></label>
</div>

</form>

</div>
</section>

<!-- CERTIFICATE -->
<section class="card">
<div class="hd"><strong>Certificate Preview</strong></div>
<div class="bd">

<div class="certificate">

<div class="cert-title">
<h2>Trooper of the Month</h2>
<p id="certMonthYear">Month/Year: —</p>
</div>

<div class="big-name" id="certName">—</div>
<p style="text-align:center" id="certRankBadge">Rank/Badge: —</p>

<div class="block">
<strong>Reason for Recognition</strong>
<p id="certReason">—</p>
</div>

<div class="block">
<strong>Key Achievements</strong>
<p id="certAchievements">—</p>
</div>

<div class="block">
<strong>Trooper's Comment</strong>
<p id="certTrooperComment">—</p>
</div>

<div class="footer">
<div>
Presented By: <span id="certPresentedBy">—</span><br>
Date: <span id="certDatePresented">—</span>
</div>
</div>

</div>

</div>
</section>

</div>
</div>

<script>
const form = document.getElementById('totmForm');
const el = id => document.getElementById(id);
const safe = v => v && v.trim() ? v : "—";

function update(){
  const data = Object.fromEntries(new FormData(form).entries());

  el('certMonthYear').textContent = "Month/Year: " + safe(data.month) + " " + safe(data.year);
  el('certName').textContent = safe(data.name);
  el('certRankBadge').textContent = "Rank/Badge: " + safe(data.rankBadge);
  el('certReason').textContent = safe(data.reason);

  el('certAchievements').textContent =
    [data.a1, data.a2, data.a3, data.a4]
    .filter(x => x && x.trim())
    .map(x => "• " + x)
    .join("\n") || "—";

  el('certTrooperComment').textContent = safe(data.trooperComment);
  el('certPresentedBy').textContent = safe(data.presentedBy);
  el('certDatePresented').textContent = safe(data.datePresented);
}

function sendEmail(){
  const data = Object.fromEntries(new FormData(form).entries());
  const subject = encodeURIComponent("Trooper of the Month Submission");
  const body = encodeURIComponent(
    "Trooper: " + safe(data.name) + "\n" +
    "Month/Year: " + safe(data.month) + " " + safe(data.year) + "\n\n" +
    "Please find the attached PDF certificate."
  );

  window.location.href = `mailto:lemoon2116@gmail.com?subject=${subject}&body=${body}`;
}

form.addEventListener('input', update);
update();
</script>

</body>
</html>
